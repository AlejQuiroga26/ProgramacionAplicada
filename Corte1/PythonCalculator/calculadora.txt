import tkinter as tk

# Definir la clase Calculadora
class Calculadora:
    def __init__(self):
        # Inicializamos la ventana de la calculadora
        self.ventana = tk.Tk()
        self.ventana.title("Calculadora Básica")

        # Variable que almacena el valor que se muestra en la pantalla
        self.pantalla = tk.Entry(self.ventana, width=16, font=("Arial", 24), borderwidth=2, relief="solid", justify="right")
        self.pantalla.grid(row=0, column=0, columnspan=4)

        # Crear los botones de la calculadora
        self.crear_botones()

    def crear_botones(self):
        # Lista de botones en orden de aparición
        botones = [
            '7', '8', '9', '/',
            '4', '5', '6', '*',
            '1', '2', '3', '-',
            '0', '.', '=', '+'
        ]

        # Posicionar los botones en la ventana usando el grid
        fila = 1
        col = 0
        for boton in botones:
            tk.Button(self.ventana, text=boton, width=5, height=2, font=("Arial", 18),
                      command=lambda b=boton: self.click(b)).grid(row=fila, column=col)
            col += 1
            if col > 3:
                col = 0
                fila += 1

        # Botón de borrar
        tk.Button(self.ventana, text="C", width=5, height=2, font=("Arial", 18),
                  command=self.borrar).grid(row=fila, column=0)

    def click(self, boton):
        """Método que maneja la entrada de números y operadores."""
        if boton == "=":
            # Cuando presionamos '=', evaluamos la expresión
            try:
                resultado = eval(self.pantalla.get())  # Evaluar la expresión matemática
                self.pantalla.delete(0, tk.END)  # Limpiar la pantalla
                self.pantalla.insert(tk.END, str(resultado))  # Mostrar el resultado
            except:
                self.pantalla.delete(0, tk.END)  # Limpiar pantalla en caso de error
                self.pantalla.insert(tk.END, "Error")  # Mostrar "Error" si algo falla
        else:
            # Si no es el botón '=', lo agregamos a la pantalla
            self.pantalla.insert(tk.END, boton)

    def borrar(self):
        """Método que limpia la pantalla."""
        self.pantalla.delete(0, tk.END)

    def ejecutar(self):
        """Método para ejecutar la interfaz gráfica."""
        self.ventana.mainloop()

# Crear una instancia de la clase Calculadora y ejecutar la interfaz
calculadora = Calculadora()
calculadora.ejecutar()

